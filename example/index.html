<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>jsonpp Playground</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      textarea {
        width: 100%;
        height: 180px;
      }
      pre {
        background: #f5f5f5;
        padding: 12px;
        white-space: pre-wrap;
      }
      label {
        display: block;
        margin-top: 12px;
      }
    </style>
  </head>
  <body>
    <h1>jsonpp Playground</h1>
    <p>Paste JSON and adjust formatting options.</p>

    <label for="input">Input JSON</label>
    <textarea id="input">{"name":"Alex","tags":["json","pretty","printer"],"meta":{"active":true,"score":42}}</textarea>

    <label for="indent">Indent</label>
    <input id="indent" type="number" min="0" value="1" />

    <label for="width">Max width</label>
    <input id="width" type="number" min="10" value="50" />

    <button id="format">Format</button>

    <h2>Output</h2>
    <pre id="output"></pre>

    <script src="../dist/jsonpp.min.js"></script>
    <script>
      (function () {
        var input = document.getElementById("input");
        var indent = document.getElementById("indent");
        var width = document.getElementById("width");
        var output = document.getElementById("output");
        var button = document.getElementById("format");

        function update() {
          try {
            var data = JSON.parse(input.value);
            var formatted = window.jsonpp.formatJson(data, {
              indent: Number(indent.value),
              maxWidth: Number(width.value)
            });
            output.textContent = formatted;
          } catch (err) {
            output.textContent = "Error: " + err.message;
          }
        }

        button.addEventListener("click", update);
        update();
      }());
    </script>
  </body>
</html>
